<%= content_for :page_title, t('.page_title')  %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <span class="govuk-caption-xl">
      <%= lot_full_name(@lot) %>
    </span>
    <h1 class="govuk-heading-xl">
      <%= t('.heading') %>
    </h1>
  </div>
</div>

<% if params[:have_you_reviewed] == 'yes' %>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <p class="govuk-body">
        <span class='govuk-!-font-weight-bold'>
          <span class='govuk-!-font-size-27 govuk-!-font-weight-bold'>
            <%= @supplier_frameworks.count %>
          </span>
          <%= t('.supplier').pluralize(@supplier_frameworks.count) %>
        </span>
        <%= t('.have_been_selected_for_comparison') %>
      </p>
    </div>
  </div>
<% end %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full ccs-supplier-comparison">
    <% if @jurisdictions.pluck(:id) == ['GB'] %>
      <%= render(partial: 'comparison_rates_table', locals: { jurisdiction_id: 'GB' }) %>
    <% else %>
      <%= govuk_tabs(
        @jurisdictions.map do |jurisdiction|
          {
            label: jurisdiction.name,
            panel: {
              content: render(partial: 'comparison_rates_table', locals: { jurisdiction_id: jurisdiction.id }),
              attributes: {
                id: jurisdiction.id
              }
            }
          }
        end
      ) %>
    <% end %>
  </div>
</div>

<hr class="govuk-section-break govuk-section-break--m">

<div class="govuk-grid-row">
  <div class="govuk-grid-column-three-quarters">
    <p class="govuk-body">
      <%= t('.the_rates_provided') %>
    </p>
    <p class="govuk-body">
      <%= t('.if_you_have_any_questions_html') %>
    </p>
    <div class="govuk-button-group">
      <%= govuk_button(t('.back_to_results'), href: legal_panel_for_government_journey_question_path(slug: 'supplier-results', **@journey.params.except(:supplier_framework_ids, :have_you_reviewed))) %>
    </div>
  </div>
</div>
