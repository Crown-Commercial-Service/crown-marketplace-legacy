<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= render partial: 'shared/error_summary', locals: { errors: @upload.errors } %>
    <span class="govuk-caption-l govuk-!-margin-bottom-0"><%= t('.caption') %></span>
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-5 cmp-page-heading"><%= t('.heading') %></h1>
    <% if @uploads_in_progress.any? %>
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
          <span class="govuk-warning-text__assistive"><%= t('.warning') %></span>
          <%= warning_details(@uploads_in_progress) %>
        </strong>
      </div>
    <% end %>
    <h3 class="govuk-heading-m govuk-!-margin-bottom-0"><%= t('.upload_title') %></h3>
    <span class="govuk-caption-m govuk-!-margin-bottom-7"><%= t('.upload_caption') %></span>
    <%= form_with model: @upload, url: supply_teachers_admin_uploads_path, method: :post, local: 'false', html: { specialvalidation: true, novalidate: true } do |f| %>
      <% SupplyTeachers::Admin::Upload::ATTRIBUTES.each do |file| %>
        <%= govuk_form_group_with_optional_error(f.object, file) do %>
          <%= f.label file, class: 'govuk-label' %>
          <p class="govuk-hint">
            <%= expected_file_type(file) %>
          </p>
          <div class="govuk-!-margin-top-2 govuk-!-width-two-thirds">
            <%= display_error f.object, file %>
            <%= tag(:hr, class: 'govuk-section-break govuk-!-margin-top-4') if f.object.errors[file].any? %>
            <span class="<%= 'govuk-file-upload--error' if f.object.errors[file].any? %>">
              <%= f.file_field file, class: 'govuk-file-upload' %>
            </span>
          </div>
        <% end  %>
      <% end %>
      <%= f.submit t('.upload_button'), class: 'govuk-button' %>
    <% end %>
    <p class="govuk-body">
      <%= link_to t('.return'), supply_teachers_admin_uploads_path, class: 'govuk-link govuk-link--no-visited-state' %> 
    </p>
  </div>
</div>
