<%= content_for :page_title, @supplier.name %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <span class="govuk-caption-xl">
      <%= framework_lot_and_description(@lot.number, @lot.description) if @lot %>
    </span>
    <h1 class="govuk-heading-xl">
      <%= @supplier.name %>
      <% if @supplier.sme? %>
        <span class="govuk-!-font-size-19 govuk-!-font-weight-bold ccs-tag"><%= t(:sme) %></span>
      <% end %>
    </h1>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds govuk-!-padding-right-8">
    <% if @rate_card %>
      <h2 class="govuk-heading-m govuk-!-margin-bottom-1"><%= t('.maximum_day_rates') %></h2>
      <p class="govuk-body"><%= t('.rates_are_fixed') %></p>
      <p class="govuk-body"><%= t('.rates_are_maximum') %></p>

      <%= govuk_table(
        [
          {
            text: t('.position')
          },
          {
            text: t('.max_day_rate'),
            classes: 'govuk-!-width-one-quarter'
          }
        ],
        [
          [
            {
              text: t('.job_titles.junior')
            },
            {
              text: number_to_currency(@rate_card.junior_rate_in_pence/100, precision: 0)
            }
          ],
          [
            {
              text: t('.job_titles.standard')
            },
            {
              text: number_to_currency(@rate_card.standard_rate_in_pence/100, precision: 0)
            }
          ],
          [
            {
              text: t('.job_titles.senior')
            },
            {
              text: number_to_currency(@rate_card.senior_rate_in_pence/100, precision: 0)
            }
          ],
          [
            {
              text: t('.job_titles.principal')
            },
            {
              text: number_to_currency(@rate_card.principal_rate_in_pence/100, precision: 0)
            }
          ],
          [
            {
              text: t('.job_titles.managing')
            },
            {
              text: number_to_currency(@rate_card.managing_rate_in_pence/100, precision: 0)
            }
          ],
          [
            {
              text: t('.job_titles.director')
            },
            {
              text: number_to_currency(@rate_card.director_rate_in_pence/100, precision: 0)
            }
          ]
        ],
        caption: {
          text: t('.day_rates'),
          classes: 'govuk-visually-hidden'
        },
        first_cell_is_header: true
      ) %>

    <% end %>
    <% if @supplier.sme? %>
      <p class="govuk-body">
        <span class="govuk-!-font-size-19 govuk-!-font-weight-bold ccs-tag"><%= t(:sme) %></span> <%= t('.is_an_sme') %>
      </p>
    <% end %>
  </div>
  <div class="govuk-grid-column-one-third">
    <div class="ccs-info-panel ccs-info-panel--pull-up">
      <h3 class="govuk-heading-m"><%= t('.contact_details.heading') %></h3>
      <dl class="ccs-contact-details">
        <% if @rate_card %>
          <dt><%= t('.contact_details.person') %></dt>
          <dd><%= @rate_card.contact_name %></dd>
        <% end %>
        <dt><%= t('.contact_details.email') %></dt>
        <dd><%= mail_to(@supplier.contact_email) %></dd>
        <dt><%= t('.contact_details.phone_number') %></dt>
        <dd><%= @supplier.telephone_number %></dd>
        <dt><%= t('.contact_details.website') %></dt>
        <dd><%= link_to(@supplier.website, url_formatter(@supplier.website)) if @supplier.website %></dd>
        <dt><%= t('.contact_details.address') %></dt>
        <dd><%= @supplier.address %></dd>
      </dl>
    </div>
  </div>
</div>
